---
name: GoogleMapPersistedInstance
 
---

import { GoogleMapPersistedInstance, LoadScript } from "../";
import WithApiKey from "./WithApiKey";

# GoogleMapPersistedInstance
### This is the extnsion of GoogleMap component allows re-using map instance in Single Page Application (SPA) and designed to sove memory leak issue with google maps [here](https://stackoverflow.com/questions/21142483/google-maps-js-v3-detached-dom-tree-memory-leak)
* Provide ID attribut for each one if you are using **GoogleMapPersistedInstance** in muliple places in your SPA application. 
```jsx
<LoadScript
  id="script-loader"
  googleMapsApiKey={API_KEY}
  language={"en"}
  region={"EN"}
  version={"weekly"}
  libraries={[]}
  onLoad={() => console.log("script loaded")}
  loadingElement={<div>Loading...</div>}
>
  <GoogleMapPersistedInstance
    id="map-persisted-instace"
    mapContainerStyle={{
      height: "400px",
      width: "800px"
    }}
    zoom={8}
    center={{
      lat: -34.397,
      lng: 150.644
    }}
  />
</LoadScript>
```

<WithApiKey>
  {apiKey => (
    <LoadScript
      id="script-loader"
      googleMapsApiKey={apiKey}
      language={"en"}
      region={"EN"}
      version={"weekly"}
      libraries={[]}
      onLoad={() => console.log("script loaded")}
      loadingElement={<div>Loading...</div>}
    >
      <GoogleMapPersistedInstance
        id="map-persisted-instace"
        mapContainerStyle={{
          height: "400px",
          width: "800px"
        }}
        zoom={8}
        center={{
          lat: -34.397,
          lng: 150.644
        }}
      />
    </LoadScript>
  )}
</WithApiKey>
